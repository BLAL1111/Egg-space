<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Egg space</title>
<style>
body { margin: 0; padding: 0; overflow: hidden; background-color: #000000; }
#gameArea {
position: relative;
width: 100vw;
height: 100vh;
perspective: 10000px;
}
.spaceship {
position: absolute;
min-width: 140px;
height: 87px;
background: url('spaceship.png') no-repeat center center / contain;
}
.bullet {
position: absolute;
width: 2.1%;
height: 50px;
background: url('bullet.png') no-repeat center center / contain;
}

.explosion {
position: absolute;
width: 4%;
height: 55px;
background: url('explosion.png') no-repeat center center / contain;
animation: explosion-animation 0.3s steps(4) forwards;
}
@keyframes explosion-animation {
100% { opacity: 0; transform: scale(2); }
}
#game-info {
position: fixed;
top: 10px;
left: 10px;
color: white;
font-family: Arial, sans-serif;
z-index: 100;
}
#pauseButton {
position: fixed;
top: 10px;
right: 10px;
padding: 10px 20px;
background-color: gold;
color: black;
border: none;
font-size: 16px;
cursor: pointer;
z-index: 100;
transition: 0.4s;
}
#pauseButton:hover {
transition: 0.4s;
background-color: #5e5e5ec5;
color: gold;
border: 3px solid gold;

}     
#timer {
position: fixed;
top: 10px;
left: 120px;
color: white;
font-family: Arial, sans-serif;
z-index: 100;
}
section {
height: 100vh;
display: flex;
justify-content: center;
align-items: center;
background-position: center;
}
</style>
<link rel="stylesheet" href="test.css">
</head>
<body>
<section>
<div id="gameArea">
<div id="spaceship" class="spaceship"></div>
</div>
<div id="game-info">
<p id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</p>
<p id="lives">Ø§Ù„Ø­ÙŠØ§Ø©: 3</p>
<p id="timer">Ø§Ù„ÙˆÙ‚Øª: 0</p>
</div>
<button id="pauseButton">ØªÙˆÙ‚Ù</button>
<!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙˆØª -->
<audio id="shootSound" src="shoot.mp3"></audio>
<audio id="explosionSound" src="explosion.mp3"></audio>
<!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù‡Ø§ØªÙ -->
<div id="mobile-controls">
<button id="moveUp" class="control-button">â†‘</button>
<button id="moveDown" class="control-button">â†“</button>
<button id="moveLeft" class="control-button">â†</button>
<button id="moveRight" class="control-button">â†’</button>
<button id="shoot" class="control-button">ğŸ”«</button>
</div>


</section>
<script>
const gameArea = document.getElementById('gameArea');
const spaceship = document.getElementById('spaceship');
const scoreDisplay = document.getElementById('score');
const livesDisplay = document.getElementById('lives');
const timerDisplay = document.getElementById('timer');
const pauseButton = document.getElementById('pauseButton');
const shootSound = document.getElementById('shootSound');
const explosionSound = document.getElementById('explosionSound');

let score = 0;
let lives = 3;
let bullets = [];
let asteroids = [];
const keys = {};
const spaceshipSpeed = 12;
const bulletSpeed = 5;
const asteroidSpeed = 3.3;
const asteroidSpawnRate = 0.05;
const bulletCooldown = 250; // ÙØªØ±Ø© Ø§Ù„ØªÙ‡Ø¯Ø¦Ø© Ø¨ÙŠÙ† Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„ØµÙˆØ§Ø±ÙŠØ® Ø¨Ø§Ù„Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©

let isPaused = false;
let startTime = Date.now();
let elapsedTime = 0;
let lastBulletTime = 0; // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ ØªÙ… ÙÙŠÙ‡ Ø¥Ø·Ù„Ø§Ù‚ Ø¢Ø®Ø± ØµØ§Ø±ÙˆØ®

spaceship.style.left = gameArea.offsetWidth / 2 - spaceship.offsetWidth / 2 + 'px';
spaceship.style.top = gameArea.offsetHeight - spaceship.offsetHeight - 10 + 'px';

document.addEventListener('keydown', (e) => {
keys[e.code] = true;
});

document.addEventListener('keyup', (e) => {
keys[e.code] = false;
});

pauseButton.addEventListener('click', () => {
isPaused = !isPaused;
pauseButton.textContent = isPaused ? 'Ø¥Ø³ØªØ¦Ù†Ø§Ù' : 'ØªÙˆÙ‚Ù ';
});

function moveSpaceship() {
if (keys['ArrowUp']) spaceship.style.top = Math.max(0, spaceship.offsetTop - spaceshipSpeed) + 'px';
if (keys['ArrowDown']) spaceship.style.top = Math.min(gameArea.offsetHeight - spaceship.offsetHeight, spaceship.offsetTop + spaceshipSpeed) + 'px';
if (keys['ArrowLeft']) spaceship.style.left = Math.max(0, spaceship.offsetLeft - spaceshipSpeed) + 'px';
if (keys['ArrowRight']) spaceship.style.left = Math.min(gameArea.offsetWidth - spaceship.offsetWidth, spaceship.offsetLeft + spaceshipSpeed) + 'px';
}

function shootBullet() {
const now = Date.now();
if (now - lastBulletTime >= bulletCooldown) { // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙƒØ§ÙÙŠ
const bullet = document.createElement('div');
bullet.className = 'bullet';
bullet.style.left = spaceship.offsetLeft + spaceship.offsetWidth / 2 - 10 + 'px'; // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ù„ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
bullet.style.top = spaceship.offsetTop - 40 + 'px'; // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ù„ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
gameArea.appendChild(bullet);
bullets.push(bullet);
lastBulletTime = now; // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± ØµØ§Ø±ÙˆØ®
shootSound.play(); // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„ØµØ§Ø±ÙˆØ®
}
}

function moveBullets() {
bullets.forEach((bullet, index) => {
bullet.style.top = bullet.offsetTop - bulletSpeed + 'px';
if (bullet.offsetTop < 0) {
gameArea.removeChild(bullet);
bullets.splice(index, 1);
}
});
}

function spawnAsteroid() {
const asteroid = document.createElement('div');
asteroid.className = 'asteroid';
asteroid.style.left = Math.random() * (gameArea.offsetWidth - 60) + 'px';
asteroid.style.top = '-60px';
gameArea.appendChild(asteroid);
asteroids.push(asteroid);
}

function moveAsteroids() {
asteroids.forEach((asteroid, index) => {
asteroid.style.top = asteroid.offsetTop + asteroidSpeed + 'px';
if (asteroid.offsetTop > gameArea.offsetHeight) {
gameArea.removeChild(asteroid);
asteroids.splice(index, 1);
}
});
}

function createExplosion(x, y) {
const explosion = document.createElement('div');
explosion.className = 'explosion';
explosion.style.left = x + 'px';
explosion.style.top = y + 'px';
gameArea.appendChild(explosion);
setTimeout(() => gameArea.removeChild(explosion), 500);
explosionSound.play(); // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±
}

function checkCollision() {
asteroids.forEach((asteroid, asteroidIndex) => {
const asteroidRect = asteroid.getBoundingClientRect();
const spaceshipRect = spaceship.getBoundingClientRect();

if (
asteroidRect.left < spaceshipRect.left + spaceshipRect.width &&
asteroidRect.left + asteroidRect.width > spaceshipRect.left &&
asteroidRect.top < spaceshipRect.top + spaceshipRect.height &&
asteroidRect.top + asteroidRect.height > spaceshipRect.top
) {
lives--;
gameArea.removeChild(asteroid);
asteroids.splice(asteroidIndex, 1);
createExplosion(asteroidRect.left, asteroidRect.top);
if (lives <= 0) {
alert('Ù„Ù‚Ø¯ Ø®Ø³Ø±Øª Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ø©');
resetGame();
}
updateScore();
}

bullets.forEach((bullet, bulletIndex) => {
const bulletRect = bullet.getBoundingClientRect();
if (
bulletRect.left < asteroidRect.left + asteroidRect.width &&
bulletRect.left + bulletRect.width > asteroidRect.left &&
bulletRect.top < asteroidRect.top + asteroidRect.height &&
bulletRect.top + bulletRect.height > asteroidRect.top
) {
score += 10;
gameArea.removeChild(asteroid);
gameArea.removeChild(bullet);
asteroids.splice(asteroidIndex, 1);
bullets.splice(bulletIndex, 1);
createExplosion(asteroidRect.left, asteroidRect.top);
updateScore();
}
});
});
}

function updateScore() {
scoreDisplay.textContent = `Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score}`;
livesDisplay.textContent = `Ø§Ù„Ø­ÙŠØ§Ø©: ${lives}`;
}

function updateTime() {
elapsedTime = Math.floor((Date.now() - startTime) / 1000);
timerDisplay.textContent = `Ø§Ù„ÙˆÙ‚Øª: ${elapsedTime}`;
}

function resetGame() {
score = 0;
lives = 4;
asteroids.forEach(asteroid => gameArea.removeChild(asteroid));
bullets.forEach(bullet => gameArea.removeChild(bullet));
asteroids = [];
bullets = [];
startTime = Date.now();
updateScore();
updateTime();
}

function gameLoop() {
if (!isPaused) {
moveSpaceship();
moveBullets();
moveAsteroids();
checkCollision();
updateTime();  // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª Ù‡Ù†Ø§
if (Math.random() < asteroidSpawnRate) spawnAsteroid();
if (keys['Space']) shootBullet();
}
requestAnimationFrame(gameLoop);
}

gameLoop();
function checkCollision() {
asteroids.forEach((asteroid, asteroidIndex) => {
const asteroidRect = asteroid.getBoundingClientRect();
const spaceshipRect = spaceship.getBoundingClientRect();

if (
asteroidRect.left < spaceshipRect.left + spaceshipRect.width &&
asteroidRect.left + asteroidRect.width > spaceshipRect.left &&
asteroidRect.top < spaceshipRect.top + spaceshipRect.height &&
asteroidRect.top + asteroidRect.height > spaceshipRect.top
) {
lives--;
gameArea.removeChild(asteroid);
asteroids.splice(asteroidIndex, 1);
createExplosion(asteroidRect.left, asteroidRect.top);

// Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²
spaceship.classList.add('shake');
setTimeout(() => {
spaceship.classList.remove('shake');
}, 500); // Ù…Ø¯Ø© Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø² ÙƒÙ…Ø§ ØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡Ø§ ÙÙŠ CSS

if (lives <= 0) {
alert('Ù„Ù… ØªØ®Ø³Ø±ØŒ ÙˆÙ„ÙƒÙ†Ùƒ Ø­Ø§ÙˆÙ„Øª ÙˆÙ‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù†Ø¬Ø§Ø­ğŸ˜Š');
resetGame();
}
updateScore();
}

bullets.forEach((bullet, bulletIndex) => {
const bulletRect = bullet.getBoundingClientRect();
if (
bulletRect.left < asteroidRect.left + asteroidRect.width &&
bulletRect.left + bulletRect.width > asteroidRect.left &&
bulletRect.top < asteroidRect.top + asteroidRect.height &&
bulletRect.top + bulletRect.height > asteroidRect.top
) {
score += 10;
gameArea.removeChild(asteroid);
gameArea.removeChild(bullet);
asteroids.splice(asteroidIndex, 1);
bullets.splice(bulletIndex, 1);
createExplosion(asteroidRect.left, asteroidRect.top);
updateScore();
}
});
});
}
function spawnHeart() {
const heart = document.createElement('div');
heart.className = 'heart';
heart.style.left = Math.random() * (gameArea.offsetWidth - 50) + 'px'; // Ù…ÙˆÙ‚Ø¹ Ø£ÙÙ‚ÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
heart.style.top = Math.random() * (gameArea.offsetHeight - 50) + 'px'; // Ù…ÙˆÙ‚Ø¹ Ø¹Ù…ÙˆØ¯ÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
gameArea.appendChild(heart);

// ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØµØ·Ø¯Ø§Ù… Ø¨Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø§Ù„ÙØ¶Ø§Ø¦ÙŠØ©
setInterval(() => {
const heartRect = heart.getBoundingClientRect();
const spaceshipRect = spaceship.getBoundingClientRect();

if (
heartRect.left < spaceshipRect.left + spaceshipRect.width &&
heartRect.left + heartRect.width > spaceshipRect.left &&
heartRect.top < spaceshipRect.top + spaceshipRect.height &&
heartRect.top + heartRect.height > spaceshipRect.top
) {
lives++;
updateScore();
gameArea.removeChild(heart);
}
}, 100); // ØªØ­Ù‚Ù‚ ÙƒÙ„ 100 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
}
function gameLoop() {
if (!isPaused) {
moveSpaceship();
moveBullets();
moveAsteroids();
checkCollision();
updateTime();

if (Math.random() < 0.01) spawnHeart(); // ÙØ±ØµØ© Ø¶Ø¦ÙŠÙ„Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ù‚Ù„Ø¨ ÙÙŠ ÙƒÙ„ Ø¯ÙˆØ±Ø©
if (Math.random() < asteroidSpawnRate) spawnAsteroid();
if (keys['Space']) shootBullet();
}
requestAnimationFrame(gameLoop);
}
function updateScore() {
scoreDisplay.textContent = `Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score}`;
livesDisplay.textContent = `Ø§Ù„Ø­ÙŠØ§Ø©: ${lives}`;
}
function spawnHeart() {
const heart = document.createElement('div');
heart.className = 'heart';
heart.style.left = Math.random() * (gameArea.offsetWidth - 50) + 'px';
heart.style.top = '-60px'; // ÙŠØ¨Ø¯Ø£ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰
gameArea.appendChild(heart);

function moveHeart() {
heart.style.top = heart.offsetTop + asteroidSpeed + 'px';

// Ø¥Ø°Ø§ ÙˆØµÙ„ Ø§Ù„Ù‚Ù„Ø¨ Ø¥Ù„Ù‰ Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø©ØŒ Ù‚Ù… Ø¨Ø¥Ø²Ø§Ù„ØªÙ‡
if (heart.offsetTop > gameArea.offsetHeight) {
gameArea.removeChild(heart);
return;
}

// ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØµØ·Ø¯Ø§Ù… Ø¨Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø§Ù„ÙØ¶Ø§Ø¦ÙŠØ©
const heartRect = heart.getBoundingClientRect();
const spaceshipRect = spaceship.getBoundingClientRect();

if (
heartRect.left < spaceshipRect.left + spaceshipRect.width &&
heartRect.left + heartRect.width > spaceshipRect.left &&
heartRect.top < spaceshipRect.top + spaceshipRect.height &&
heartRect.top + heartRect.height > spaceshipRect.top
) {
lives++;
updateScore();
gameArea.removeChild(heart);
return;
}

requestAnimationFrame(moveHeart);
}

requestAnimationFrame(moveHeart);
}
function gameLoop() {
if (!isPaused) {
moveSpaceship();
moveBullets();
moveAsteroids();
checkCollision();
updateTime();

if (Math.random() < 0.001) spawnHeart(); // ÙØ±ØµØ© Ø¶Ø¦ÙŠÙ„Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ù‚Ù„Ø¨ ÙÙŠ ÙƒÙ„ Ø¯ÙˆØ±Ø©
if (Math.random() < asteroidSpawnRate) spawnAsteroid();
if (keys['Space']) shootBullet();
}
requestAnimationFrame(gameLoop);
}
const heartSpeed = 0; // Ø³Ø±Ø¹Ø© Ù†Ø²ÙˆÙ„ Ø§Ù„Ù‚Ù„Ø¨. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙƒÙ…Ø§ ØªØ±ÙŠØ¯.
function moveHeart() {
heart.style.top = heart.offsetTop + heartSpeed + 'px'; // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù‡Ù†Ø§

// Ø¥Ø°Ø§ ÙˆØµÙ„ Ø§Ù„Ù‚Ù„Ø¨ Ø¥Ù„Ù‰ Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø©ØŒ Ù‚Ù… Ø¨Ø¥Ø²Ø§Ù„ØªÙ‡
if (heart.offsetTop > gameArea.offsetHeight) {
gameArea.removeChild(heart);
return;
}

// ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØµØ·Ø¯Ø§Ù… Ø¨Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø§Ù„ÙØ¶Ø§Ø¦ÙŠØ©
const heartRect = heart.getBoundingClientRect();
const spaceshipRect = spaceship.getBoundingClientRect();

if (
heartRect.left < spaceshipRect.left + spaceshipRect.width &&
heartRect.left + heartRect.width > spaceshipRect.left &&
heartRect.top < spaceshipRect.top + spaceshipRect.height &&
heartRect.top + heartRect.height > spaceshipRect.top
) {
lives++;
updateScore();
gameArea.removeChild(heart);
return;
}

requestAnimationFrame(moveHeart);
}
// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø²Ø±Ø§Ø±
// Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†Ø§ØµØ±
const moveUpButton = document.getElementById('moveUp');
const moveDownButton = document.getElementById('moveDown');
const moveLeftButton = document.getElementById('moveLeft');
const moveRightButton = document.getElementById('moveRight');
const shootButton = document.getElementById('shoot');

// Ù…ØªØºÙŠØ±Ø§Øª Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ©
let moveInterval;
let shootInterval;

// ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ù„ØªÙƒØ±Ø§Ø±
function startMoving(direction) {
if (moveInterval) clearInterval(moveInterval);
moveInterval = setInterval(() => {
if (direction === 'up') {
spaceship.style.top = Math.max(0, spaceship.offsetTop - spaceshipSpeed) + 'px';
} else if (direction === 'down') {
spaceship.style.top = Math.min(gameArea.offsetHeight - spaceship.offsetHeight, spaceship.offsetTop + spaceshipSpeed) + 'px';
} else if (direction === 'left') {
spaceship.style.left = Math.max(0, spaceship.offsetLeft - spaceshipSpeed) + 'px';
} else if (direction === 'right') {
spaceship.style.left = Math.min(gameArea.offsetWidth - spaceship.offsetWidth, spaceship.offsetLeft + spaceshipSpeed) + 'px';
}
}, 20); // ØªÙƒØ±Ø§Ø± ÙƒÙ„ 20 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
}

function stopMoving() {
clearInterval(moveInterval);
moveInterval = null;
}

function startShooting() {
if (shootInterval) return; // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ù…Ø³ØªÙ…Ø±Ø© Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ù„Ø§ ØªØ¨Ø¯Ø£ Ø¬Ø¯ÙŠØ¯Ø©
shootInterval = setInterval(() => {
shootBullet();
}, bulletCooldown); // Ø¥Ø·Ù„Ø§Ù‚ ØµØ§Ø±ÙˆØ® Ø­Ø³Ø¨ ÙØªØ±Ø© Ø§Ù„ØªÙ‡Ø¯Ø¦Ø©
}

function stopShooting() {
clearInterval(shootInterval);
shootInterval = null;
}

// ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¶ØºØ·
moveUpButton.addEventListener('mousedown', () => startMoving('up'));
moveDownButton.addEventListener('mousedown', () => startMoving('down'));
moveLeftButton.addEventListener('mousedown', () => startMoving('left'));
moveRightButton.addEventListener('mousedown', () => startMoving('right'));
shootButton.addEventListener('mousedown', () => startShooting());

// ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø±ÙØ¹ Ø§Ù„Ø¶ØºØ·
moveUpButton.addEventListener('mouseup', stopMoving);
moveDownButton.addEventListener('mouseup', stopMoving);
moveLeftButton.addEventListener('mouseup', stopMoving);
moveRightButton.addEventListener('mouseup', stopMoving);
shootButton.addEventListener('mouseup', stopShooting);

// Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªÙˆÙ‚Ù Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø²Ø±
document.addEventListener('mouseleave', stopMoving);
document.addEventListener('mouseleave', stopShooting);
// Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù‡Ø§ØªÙ
function startMoving(direction) {
    if (moveInterval) clearInterval(moveInterval);
    moveInterval = setInterval(() => {
        if (direction === 'up') {
            spaceship.style.top = Math.max(0, spaceship.offsetTop - spaceshipSpeed) + 'px';
        } else if (direction === 'down') {
            spaceship.style.top = Math.min(gameArea.offsetHeight - spaceship.offsetHeight, spaceship.offsetTop + spaceshipSpeed) + 'px';
        } else if (direction === 'left') {
            spaceship.style.left = Math.max(0, spaceship.offsetLeft - spaceshipSpeed) + 'px';
        } else if (direction === 'right') {
            spaceship.style.left = Math.min(gameArea.offsetWidth - spaceship.offsetWidth, spaceship.offsetLeft + spaceshipSpeed) + 'px';
        }
    }, 20); // ØªÙƒØ±Ø§Ø± ÙƒÙ„ 20 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
}

function stopMoving() {
    clearInterval(moveInterval);
    moveInterval = null;
}

function startShooting() {
    if (shootInterval) return; // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ù…Ø³ØªÙ…Ø±Ø© Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ù„Ø§ ØªØ¨Ø¯Ø£ Ø¬Ø¯ÙŠØ¯Ø©
    shootInterval = setInterval(() => {
        shootBullet();
    }, bulletCooldown); // Ø¥Ø·Ù„Ø§Ù‚ ØµØ§Ø±ÙˆØ® Ø­Ø³Ø¨ ÙØªØ±Ø© Ø§Ù„ØªÙ‡Ø¯Ø¦Ø©
}

function stopShooting() {
    clearInterval(shootInterval);
    shootInterval = null;
}

// ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù„Ù…Ø³
moveUpButton.addEventListener('touchstart', () => startMoving('up'));
moveDownButton.addEventListener('touchstart', () => startMoving('down'));
moveLeftButton.addEventListener('touchstart', () => startMoving('left'));
moveRightButton.addEventListener('touchstart', () => startMoving('right'));
shootButton.addEventListener('touchstart', () => startShooting());

// ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø±ÙØ¹ Ø§Ù„Ù„Ù…Ø³
moveUpButton.addEventListener('touchend', stopMoving);
moveDownButton.addEventListener('touchend', stopMoving);
moveLeftButton.addEventListener('touchend', stopMoving);
moveRightButton.addEventListener('touchend', stopMoving);
shootButton.addEventListener('touchend', stopShooting);

// Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªÙˆÙ‚Ù Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù†Ø¯ Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„Ù„Ù…Ø³
document.addEventListener('touchend', stopMoving);
document.addEventListener('touchend', stopShooting);


</script>
</body>
</html>
